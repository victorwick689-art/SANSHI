import { useState } from 'react';import { stkPush } from '../lib/api';export default function Donate(){const [phone,setPhone]=useState('');const [amount,setAmount]=useState('');const [status,setStatus]=useState('');async function handleDonate(e){e.preventDefault();setStatus('');const resp=await stkPush({ phone, amount, accountReference:'SanShineDonation', description:'Donation to SanShine' });if(resp?.ok) setStatus('Check your phone for the M-Pesa prompt and complete the donation.'); else setStatus('Could not initiate donation. Please try again.')}return(<div className='max-w-md mx-auto p-6'><h1 className='text-3xl font-bold text-brandRed mb-2'>Donate</h1><p className='mb-4'>Support our work via M‑Pesa. Your generosity changes lives.</p><form onSubmit={handleDonate} className='space-y-3 border rounded-xl p-4'><div><label className='block text-sm font-medium'>M‑Pesa Phone</label><input value={phone} onChange={e=>setPhone(e.target.value)} placeholder='07XXXXXXXX' className='w-full border rounded p-2' required/></div><div><label className='block text-sm font-medium'>Amount (KES)</label><input type='number' value={amount} onChange={e=>setAmount(e.target.value)} min='1' className='w-full border rounded p-2' required/></div><button className='w-full bg-brandRed text-white rounded p-2'>Donate via M‑Pesa</button></form>{status && <p className='mt-3 text-sm'>{status}</p>}<div className='mt-6 text-sm'><p><b>Paybill/Till:</b> 0717753219 (Treasurer)</p></div></div>)}